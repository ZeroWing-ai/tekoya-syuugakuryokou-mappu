# 世界旅行プランニングマップ

世界中の行きたい場所を管理できるWebアプリケーションです。地図上に場所をピンで保存し、カテゴリ別に管理できます。

## 機能

### 基本機能
- 🌍 世界地図の表示（Leaflet.js使用）
- 🔍 場所検索機能（都市名、観光地など）
- 🖱️ 地図クリックでピン追加
- 📝 場所名とメモの追加
- 🎨 カテゴリ別の色分け（観光地、グルメ、ショッピング、宿泊）
- 👀 ピンクリックで詳細情報表示
- 🗑️ ピンの削除機能

### データ管理
- 💾 LocalStorageでデータ自動保存
- 📤 データのエクスポート（JSON形式）
- 📥 データのインポート
- ✅ 訪問済みチェック機能

### UI/UX
- 📱 レスポンシブデザイン（モバイル対応）
- 🇯🇵 日本語インターフェース
- 📋 サイドバーで保存済みピン一覧表示
- 🔍 カテゴリ別フィルター機能
- 🎯 ピン一覧からの地図フォーカス

## 使用方法

### 1. アプリケーションの起動
1. `index.html` をWebブラウザで開く
2. 世界地図が表示されます

### 2. 場所の検索
1. サイドバーの検索ボックスに都市名や場所名を入力
2. 検索ボタンをクリックまたはEnterキーを押す
3. 検索結果が表示されたら、目的の場所をクリック
4. 地図がその場所に移動し、ポップアップからピン追加可能

### 3. 場所の追加
1. 地図上の追加したい場所をクリック
2. 一時的なピンが表示されます
3. モーダルダイアログが開くので情報を入力：
   - 場所名（必須）
   - カテゴリ（観光地、グルメ、ショッピング、宿泊）
   - メモ（任意）
4. 「保存」ボタンをクリック

### 4. ピンの管理
- **詳細表示**: ピンをクリックしてポップアップで詳細を確認
- **訪問済み設定**: ポップアップまたはサイドバーから訪問状態を切り替え
- **削除**: ポップアップまたはサイドバーから削除
- **フォーカス**: サイドバーのピン項目をクリックして地図をフォーカス

### 5. フィルター機能
サイドバーのチェックボックスでカテゴリ別にピンの表示/非表示を切り替え

### 6. データ管理
- **エクスポート**: 「データエクスポート」ボタンでJSONファイルをダウンロード
- **インポート**: 「データインポート」ボタンで以前エクスポートしたファイルを読み込み

## 技術仕様

### 使用技術
- HTML5/CSS3/JavaScript（Vanilla JS）
- [Leaflet.js](https://leafletjs.com/) - 地図表示
- [Bootstrap 5](https://getbootstrap.com/) - UIフレームワーク
- OpenStreetMap - 地図タイル

### データ構造
```json
{
  "id": "unique_id",
  "name": "場所名",
  "lat": 緯度,
  "lng": 経度,
  "category": "カテゴリ",
  "memo": "メモ",
  "visited": false,
  "createdAt": "2024-01-01T00:00:00.000Z"
}
```

### ブラウザ対応
- Chrome（推奨）
- Firefox
- Safari
- Edge

## ファイル構成
```
korea-travel-map/
├── index.html          # メインHTMLファイル
├── style.css           # スタイルシート
├── script.js           # JavaScript（メイン機能）
├── README.md           # このファイル
└── assets/
    └── icons/          # アイコン用フォルダ（将来の拡張用）
```

## カスタマイズ

### カテゴリの追加
`script.js` の `categories` オブジェクトを編集してカテゴリを追加・変更できます：

```javascript
this.categories = {
    tourist: { name: '観光地', color: '#dc3545' },
    food: { name: 'グルメ', color: '#fd7e14' },
    shopping: { name: 'ショッピング', color: '#20c997' },
    hotel: { name: '宿泊', color: '#6f42c1' },
    // 新しいカテゴリを追加
    transport: { name: '交通', color: '#0d6efd' }
};
```

対応するHTMLのセレクトボックスとフィルターも更新が必要です。

### スタイルの変更
`style.css` を編集してデザインをカスタマイズできます。

## トラブルシューティング

### 地図が表示されない
- インターネット接続を確認
- ブラウザのコンソールでエラーを確認
- HTTPSで提供されているか確認（一部機能にはHTTPS必須）

### データが保存されない
- ブラウザのLocalStorageが有効か確認
- プライベートブラウジングモードでないか確認
- ブラウザの容量制限に達していないか確認

### モバイルで操作しにくい
- 画面サイズに応じてレスポンシブ対応済み
- サイドバーは固定位置で表示（768px以下）

## 今後の拡張予定

- [ ] ルート検索機能
- [ ] 距離計算機能
- [ ] 旅行日程管理
- [ ] 写真添付機能
- [ ] Google Maps連携
- [ ] 多言語対応

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

バグ報告や機能提案は大歓迎です。プルリクエストも受け付けています。